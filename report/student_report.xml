<openerp>
    <data>
        <report
            id="student_report_pdf_action"
            model="odooeduconnect_student"
            string="Reporte de Estudiantes"
            report_type="qweb-pdf"
            name="student_report_pdf"
            file="student_report_pdf"
        />
        <template id="student_report_pdf">
            <t t-call="report.html_container">
                <t t-foreach="docs" t-as="student">
                    <t t-call="report.external_layout">
                        <div class="page">
                            <h2 style="text-align:center;">Ficha del Estudiante</h2>
                            <table class="table table-condensed" style="width:100%; margin-top:20px;">
                                <tr>
                                    <td><strong>Nombre:</strong></td>
                                    <td><span t-field="student.name"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Edad:</strong></td>
                                    <td><span t-field="student.age"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Sección:</strong></td>
                                    <td><span t-field="student.section"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Grado:</strong></td>
                                    <td><span t-field="student.grade"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Email:</strong></td>
                                    <td><span t-field="student.email"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Teléfono:</strong></td>
                                    <td><span t-field="student.phone"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Prefijo:</strong></td>
                                    <td><span t-field="student.prefix"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Carnet:</strong></td>
                                    <td><span t-field="student.student_card"/></td>
                                </tr>
                                <tr>
                                    <td><strong>Salón:</strong></td>
                                    <td><span t-field="student.room_id.name"/></td>
                                </tr>
                            </table>
                            <h3 style="margin-top:30px;">Materias</h3>
                            <ul>
                                <t t-foreach="student.subjects" t-as="subject">
                                    <li><span t-field="subject.name"/></li>
                                </t>
                            </ul>
                            <h3 style="margin-top:30px;">Notas</h3>
                            <table class="table table-condensed" style="width:100%;">
                                <thead>
                                    <tr>
                                        <th>Materia</th>
                                        <th>Nota</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="student.grades_ids" t-as="grade">
                                        <tr>
                                            <td><span t-field="grade.subject_id.name"/></td>
                                            <td><span t-field="grade.score"/></td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</openerp>
